= コラボレイティブ開発特論
:toc: left
:toclevels: 4
:toc-title: 目次
:sectnums:
:imagesdir: figures

== ガイダンス/モダンな道具達

=== ガイダンス

==== 連絡事項

===== 連絡事項(1)

. 資料等の入手先
* GitHubの下記リポジトリにまとめておきます
** https://github.com/ychubachi/collaborative_development
* 資料は随時updateするので，適宜，最新版をダウンロードしてください

===== 連絡事項(2)

. 仮想環境（Vagrant）
* 各自のPCに仮想環境をインストールしておいてください
* インストールするソフトウェア
* Git
** https://gitforwindows.org/
* VirtualBox
** https://www.virtualbox.org/
* Vagrant
** https://www.vagrantup.com/

==== 授業の全体像

===== 学習の目的

* ビジネスアプリケーションを構築するための基礎力
* 分散型PBLを実施する上で必要となる知識やツールの使い方
* これら活用するための自己組織的なチームワーク

===== 学習の目標

* 分散ソフトウェア開発のための道具を学ぶ
** 開発環境（Ruby），VCSとリモートリポジトリ（GitHub）
** テスト自動化，継続的インテグレーション，PaaS
* これらのツールの *設計思想* に対する本質理解

===== 前提知識と到達目標

. 前提とする知識
* 情報系の学部レベルで基礎的な知識を持っていること
. 最低到達目標
* 授業で取り上げる各種ツールの基本的な使い方を身につける
. 上位到達目標
* 授業で取り上げる各種ツールの高度な使い方に習熟する．

===== 授業の形態

. 対面授業
* 担当教員による講義・演習
. 個人演習
* 個人によるソフトウエア開発
. グループ演習
* グループによるソフトウエア開発

==== 授業の方法

===== 講義・演習・課題

. 講義
* ツールの説明
* ツールの使い方
. 演習
* 個人でツールを使えるようになる
* グループでツールを使えるようになる

===== 成績評価

. 課題
* 個人でソフトウエアを作る
* グループでソフトウエアを作る
. 評価の方法
* 課題提出と実技試験
. 評価の観点
* PBLで役に立つ知識が習得できたかどうか

// 自己紹介

==== 「学びの共同体」になろう

===== 共に学び、共に教える「場」

* 教室に集うメンバーで *学びの共同体* になろう
* 困った時には助けを求める
* 他人に教えること＝学び

===== チーム演習での問題解決（理想の流れ）

. 困った時はメンバーに聞く
. わからなかったらチーム全員で考える
. それでもダメなら他のチームに相談
. 講師・コーチに尋ねるのは最終手段！
. …となるのが理想

* 授業の進め方などの質問は遠慮無く聞いてください

===== 共同体になるためにお互いを知ろう

* 皆さんの自己紹介
** 名前（可能であれば所属も）
** どんな仕事をしているか（あるいは大学で学んだこと）
** この授業を履修した動機

=== コラボレイティブ開発の道具達

==== モダンなソフトウエア開発とは

===== ソフトウエア開発のための方法・言語・道具

image::FLT_framework.svg[]

===== 授業で取り上げる範囲

. 取り上げること
* 良い道具には設計思想そのものに方法論が組み込まれている
* 世界中の技術者の知恵が結晶した成果としてのOSSのツール
. 取り扱わないこと
* 方法論そのものについてはアジャイル開発特論で学ぶ
* プログラミングの初歩については教えない

===== Scrumするためのモダンな道具たち

image::tools.svg[]

===== モダンな開発環境の全体像

. 仮想化技術（Virtualization）
* WindowsやMacでLinux上でのWebアプリケーション開発を学ぶことができる
* HerokuやTravis CI等のクラウドでの実行や検査環境として用いられている
. ソーシャルコーディング（Social Coding）
* LinuxのソースコードのVCSとして用いられているGitを学ぶ
* GitはGitHubと連携することでOSS型のチーム開発ができる

===== enPiT仮想化環境

. 仮想環境にインストール済みの道具
* エディタ（Emacs/Vim）
* Rubyの実行環境
// * GitHub，Heroku，Travis
// CIと連携するための各種コマンド（github-connect.sh，hub，heroku，travis）
* PostgreSQLのクライアント・サーバーとDB
* 各種設定ファイル（.bash_profile，.gemrc，.gitconfig）
* その他

. 仮想化環境の構築用リポジトリ（参考）
* https://github.com/ychubachi/vagrant_enpit[ychubachi/vagrant_enpit]

===== enPiT仮想化環境にログイン

. 作業内容
* 前の操作に引き続き，仮想化環境にSSH接続する
. コマンド
+
[source,bash]
----
vagrant up
vagrant ssh
----

== Git/GitHub演習（別資料）

=== 第3章 Git/GitHub演習

==== Git/GitHub演習の解説と演習

===== Git/GitHub演習について

. Git/GitHub演習
+
GitとGitHubにとことん精通しよう
. 演習資料
+
https://github.com/ychubachi/github_practice[Git/GitHub演習]

include::rails.adoc[]

== 補足資料

=== 補足資料

==== Vagrant関連

===== Vagrantの補足

. 仮想環境とのファイル共有
* Guest OS内に `+/vagrant+` という共有フォルダがある
* このフォルダはHost OSからアクセスできる
* 場所はVagrantfileがあるフォルダ
* 共有したいファイル（画像など）をここに置く

==== Git関連

===== Gitの補足

. 元いたbranchに素早く戻る方法
+
[source,bash]
----
git checkout other_branch # masterで
# 編集作業とcommit
git checkout - # masterに戻る
----
. Git brame
* だれがどの作業をしたかわかる（誰がバグを仕込んだのかも）
** https://help.github.com/articles/using-git-blame-to-trace-changes-in-a-file[Using
git blame to trace changes in a file · GitHub Help]

===== バイナリのコンフリクト(1)

* git mergeでバイナリファイルがコンフリクトした場合、 ファイルはgit
merge実行前のままとなりますfootnote:[https://github.com/ychubachi/collaborative_development/issues/6[git
mergeでバイナリファイルがコンフリクトした場合 · Issue #6]]。
* 以下を実行してコンフリクトが発生したとします。

[source,bash]
----
git checkout master
git merge branch_aaa
----

===== バイナリのコンフリクト(2)

* そのままにしたいとき(=masterを採用）は

[source,bash]
----
git checkout --ours <binaryfile> #明示的な実行は不要
git add <binaryfile>
git commit
----

* branch_aaaのファイルを採用したいときは

[source,bash]
----
git checkout --theirs <binaryfile>
git add <binaryfile>
git commit
----

===== Hubコマンドについて

* enPiT環境にはHubコマンドが仕込んである
** https://github.com/github/hub[github/hub]
* 通常のGitの機能に加えて，GitHub用のコマンドが利用できる
** コマンド名は「git」のまま（エイリアス設定済み）
* 確認方法

[source,bash]
----
git version
alias git
----

==== GitHub関連

===== GitHubの補足(1)

. Issue
* 課題管理（ITS: Issue Tracking System）
* コミットのメッセージでcloseできる
** https://help.github.com/articles/closing-issues-via-commit-messages[Closing
issues via commit messages · GitHub Help]
. Wiki
* GitHubのリポジトリにWikiを作る
** https://help.github.com/articles/about-github-wikis[About GitHub
Wikis · GitHub Help]

===== GitHubの補足(2)

. GitHub Pages
* 特殊なブランチを作成すると，Webページが構築できる
** https://pages.github.com/[GitHub Pages]

==== Heroku関連

===== Herokuの補足

. HerokuのアプリのURL確認
+
[source,bash]
----
heroku apps:info
----
. `+rails generate+` などが動かない
+
[source,bash]
----
spring stop
----

==== Travis CI関連

===== Travis CIの補足

. Status Image
* README.mdを編集し，Travisのテスト状況を表示するStatus Imageを追加する
* http://docs.travis-ci.com/user/status-images/[Travis CI: Status
Images]
. Deploy後、自動で heroku の db:migrate
* 次のURLの「Running-commands」の箇所を参照
** http://docs.travis-ci.com/user/deployment/heroku/[Heroku Deployment -
Travis CI]

////
[[travxs-setup-のトラブル]]
===== [.todo .TODO]#TODO# `+travxs setup+` のトラブル

* 次のようなトラブルが発生することがある
** https://github.com/ychubachi/collaborative_development/issues/17[TravisとGitHubのリポジトリの同期
· Issue #17]
** https://github.com/ychubachi/collaborative_development/issues/18[楽天APIサンプルのfork
· Issue #18]
* Travis CIからHerokuにディプロイするのではなく，
HerokuからGitHubを監視させるようにしたほうがよいかも・・・
////

include::sinatra.adoc[]
